<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <style>
        * {
            margin: 0;
            padding: 0;
        }
        #box {
            margin: 100px auto 0;
            width: 520px;
            height: 280px;
            border: 1px solid #000000;
            position: relative;
            overflow: hidden;
        }
        #list {
            list-style: none;
            position: absolute;
            left: 0;
            top: 0;
        }
        li {
            float: left;
        }
        img {
            display: block;
        }

        #prev, #next {
            position: absolute;
            width: 30px;
            height: 60px;
            background: #000000;
            color: white;
            font-weight: bold;
            font-size: 30px;
            line-height: 60px;
            text-align: center;
            top: 110px;
            cursor: pointer;
        }
        #prev {
            left: 0;
        }
        #next {
            right: 0;
        }
        #text {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            padding:0px;
            height: 0px;
            background: rgba(0,0,0,.8);
            color: white;
        }

    </style>
</head>
<body>
    <div id="box">
        <ul id="list">
            <li><img src="images1/1.jpg" ></li>
            <li><img src="images1/2.jpg" ></li>
            <li><img src="images1/3.jpg" ></li>
            <li><img src="images1/4.jpg" ></li>
            <li><img src="images1/5.jpg" ></li>
        </ul>
        <span id="prev"> < </span>
        <span id="next"> > </span>
        <div id="text">
            <h3>标题一</h3>
            <p>内容一</p>
        </div>
    </div>
    <script src="Mtween.js"></script>
    <script>
    /*
        1.点击上一张的时候，li先上移，移动完之后，文字height逐渐变高
    */
        var prev = document.getElementById('prev');
        var next = document.getElementById('next');
        var text = document.getElementById('text');
        var h3 = text.getElementsByTagName('h3')[0];
        var p = text.getElementsByTagName('p')[0];
        var lis = document.getElementById('list').getElementsByTagName('li');
        var imgs = document.getElementsByTagName('img');
        var n = 0;
        var off = true;
        var timer = null;
        var arr = ['images1/1.jpg','images1/2.jpg','images1/3.jpg','images1/4.jpg','images1/5.jpg']
        var txt = [{
            title:'标题一',
            info:'出货福利一卡通吃'
        },
        {
            title:'标题二',
            info:'夏春新品'
        },
        {
            title:'标题三',
            info:'小s女儿同款'
        },
        {
            title:'标题四',
            info:'品牌团真材实木'
        },
        {
            title:'标题五',
            info:'明前茶上市'
        }]
        text.style.height = '50px';
        text.style.padding = '10px';
        h3.innerHTML = txt[0].title;
        p.innerHTML = txt[0].info;
        prev.onclick = function(){
            if(off){
                off = false;
                n++;
                if(n > arr.length-1){
                    n=0;
                }
                lis[1].getElementsByTagName('img')[0].src = arr[n];
                lis[1].getElementsByTagName('img')[0].src = arr[n];
                move({
                    obj:text,
                    attrs:{height:0,paddingTop:0,paddingBottom:0},
                    duration:200,
                    callBack:function(){
                            h3.innerHTML = txt[n].title;
                            p.innerHTML = txt[n].info;
                        }
                    })
                move({
                    obj:list,
                    attrs:{top:-280},
                    duration:500,
                    callBack:function(){
                        move({
                            obj:text,
                            attrs:{height:50,paddingTop:10,paddingBottom:10},
                            duration:200
                        })
                        off = true;
                        list.style.cssText = '';
                        lis[0].getElementsByTagName('img')[0].src = arr[n];
                    }
                })
                
            }
            
        }
        next.onclick = function(){
            if(off){
                off = false;
                list.style.top =  '-280px';
                lis[1].getElementsByTagName('img')[0].src = arr[n];
                n--;
                if(n < 0){
                    n=arr.length-1;
                }
                lis[0].getElementsByTagName('img')[0].src = arr[n];
                move({
                    obj:list,
                    attrs:{top:0},
                    duration:500,
                    callBack:function(){
                        move({
                            obj:text,
                            attrs:{height:50,paddingTop:10,paddingBottom:10},
                            duration:200
                        })
                        off = true;
                    }
                })
             move({
                obj:text,
                attrs:{height:0,paddingTop:0,paddingBottom:0},
                duration:200,
                callBack:function(){
                    h3.innerHTML = txt[n].title;
                    p.innerHTML = txt[n].info;
                }
                })
            }
        }
        timer = setInterval(prev.onclick,1500)
        box.onmouseover = function(){
            clearInterval(timer);
        }
        box.onmouseout = function(){
             timer = setInterval(prev.onclick,1500)
        }
    </script>
</body>
</html>